<script>
  let val = -1;
  function timer(callback) {
    setTimeout(function task() {
      // 非同期での値の変更
      val = Math.floor(Math.random() * 11);
      // callback関数（operations）に引数valを設定して実行
      callback(val);
    }, 1000);
  }
  // 非同期処理の実行後に実行したい処理を関数内に記述
  function operations(val) {
    console.log(val);
  }
  // コールバック関数としてtimer関数に渡す
  // 変数valの宣言後呼び出される
  timer(operations);
</script>
