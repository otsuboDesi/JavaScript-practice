<script>
  // Promise.resolve: fulfilledの状態のPromiseインスタンスを返す。特定の処理を非同期処理として実行したい場合に使う。
  //   すぐにfulfilled状態のPromiseを返す。このPromiseのthenメソッドは、現在の実行コンテキスト（コールスタック）が空になるまで遅延される。

  let val = 0;
  //   Promise.resolve()によって、すぐに解決されるPromiseが作成され、thenメソッドのコールバックが非同期で実行される。
  // このthenメソッドのコールバックは、現在の実行コンテキストが終了した後で実行される。
  Promise.resolve().then(() => {
    // 非同期処理のためグローバルコンテキスト終了後に実行される
    console.log(`valの値は[${val}]です。`);
  });
  val = 1;
  // 実行中のコンテキストを含むコールスタックが空になった
  console.log("グローバルコンテキスト終了");
  // 出力: グローバルコンテキスト終了
  // 出力: valの値は[1]です。
</script>
